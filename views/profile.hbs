{{> header}}
<div></div>

<div class="pt-5 container">

    <div class="row">

        <div class="col-xl-8 col-lg-10 col-12 col-sm-12 px-4 py-3 rounded-3 border shadow"
             style="background-color: white;">
            <div class="mb-2 text-end">
                <a href="auth/logout">Log out</a>
            </div>

            {{#unless athlete}}
                <div class="alert alert-info mb-4" role="alert">
                    <h4>You're Almost there!</h4>
                    <div>To start letting Rekordbot uncover your achievements, first, connect your Strava account!</div>
                    <a href="/auth/strava"><img src="public/btn_strava_connectwith_orange.png"></a>
                </div>
            {{/unless}}

            {{#if athlete}}
                {{#if onboarding}}
                <div class="card px-3 py-3 rounded-3 border shadow my-3">
                    <h4 class="mb-3">Almost there!</h4>
                    <ul class="list-unstyled mb-2">
                        <li class=" mb-4">‚úÖ Connect your Strava account to get started</li>
                        <li class=" mb-4">üîÑ Let Rekordbot sync your past activities ‚Äî it takes a while but will be worth
                            it!
                        <ul class="list-unstyled text-muted mt-2 mb-4 ms-4">
                            <li>
                                <div class="progress">
                                    {{# if onboarding.activities_synched}}
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                    {{else}}
                                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: {{onboarding.activity_percentage}}%;" aria-valuenow="{{onboarding.activity_percentage}}" aria-valuemin="0" aria-valuemax="100"></div>
                                    {{/if}}
                                </div>
                                <p>Activities synched from Strava</p>
                            </li>
                            <li>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: {{onboarding.segment_effort_percentage}}%;" aria-valuenow="{{onboarding.segment_effort_percentage}}" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <p>Segment efforts synched from Strava. Rekordbot plays nice, not putting too much load on Strava - hence this activity is done over a long period of time. Until this is completed you will still get Rekordbot achievements based on your activity data, but not for individual segments. </p>
                            </li>
                        </ul>
                        </li>
                        <li class=" mb-4">‚è≥ Head out for your next workout and let Rekordbot showcase your achievements!
                        </li>
                    </ul>
                </div>
                {{/if}}
                <div class="card rounded-3 border shadow">
                    <div class="card-body text-center">
                        <div class="mt-3 mb-4">
                            <img src="{{athlete.profileUrl}}" class="rounded-circle" height="60rem"
                                 alt="profile image">
                        </div>
                        <h4 class="mb-2">{{athlete.firstName}} {{athlete.lastName}}</h4>
                        <p class="text-muted mb-4">
                            {{#if onboarding}}
                            Synchronizing activities from Strava
                            {{else}}
                            Connected to Strava
                            {{/if}}
                        </p>
                        <div class="d-flex justify-content-center text-center mt-4 mb-2">
                            <div style="width:7rem">
                                <p class="mb-2 h5">{{statistics.activities}}</p>
                                <p class="text-muted mb-0">Strava activities</p>
                            </div>
                            <div class="px-3" style="width:7rem">
                                <p class="mb-2 h5">{{statistics.segments}}</p>
                                <p class="text-muted mb-0">Different segments</p>
                            </div>
                            <div class="px-3" style="width:7rem">
                                <p class="mb-2 h5">{{statistics.segment_efforts}}</p>
                                <p class="text-muted mb-0">Segment efforts</p>
                            </div>
                            <div class="px-3" style="width:7rem">
                                <p class="mb-2 h5">{{statistics.achievement_efforts}}</p>
                                <p class="text-muted mb-0">Activity bests</p>
                            </div>
                            <div style="width:7rem">
                                <p class="mb-2 h5">{{statistics.achievements}}</p>
                                <p class="text-muted mb-0">Rekordbot achievements</p>
                            </div>
                        </div>
                    </div>
                </div>

            {{/if}}

            <div class="py-5 text-end">
                <img src="public/api_logo_pwrdBy_strava_horiz_gray.png" alt="Powered by Strava"/>
            </div>


        </div>
    </div>
</div>
{{> footer}}